<tmpl_if display><span id="<tmpl_var name>_url"><tmpl_if category_url><tmpl_var category_url><tmpl_else>No site / category selected.</tmpl_if></span></tmpl_if>
<input type=hidden id="<tmpl_if formname><tmpl_var formname>.</tmpl_if><tmpl_var field>" name="<tmpl_var field>" value="<tmpl_var category_id>">
<tmpl_var chooser>
<input type="button" value="Clear" class="hpts-button" onclick="<tmpl_var name>_clear_category()">

<script language="javascript">
  <tmpl_var name>_choose_category  = function (packed) {
     var parts = packed.split(",",2);
     var id = parts[0];
     var url = parts[1];
     <tmpl_if display>
        var span = document.getElementById("<tmpl_var name>_url");
         span.innerHTML = url;
     </tmpl_if>

     var field = document.getElementById("<tmpl_if formname><tmpl_var formname>.</tmpl_if><tmpl_var field>");
     field.value = id;
     <tmpl_if onchange><tmpl_var onchange>();</tmpl_if>
  }

  <tmpl_var name>_clear_category  = function (){ 
     <tmpl_if display>
        var span = document.getElementById("<tmpl_var name>_url");
        span.innerHTML = "No site / category selected.";
     </tmpl_if>
     var field = document.getElementById("<tmpl_if formname><tmpl_var formname>.</tmpl_if><tmpl_var field>");
     field.value = "";
  }
</script>
