
=head1 Installing PIRT CMS 2.0 (Krang)

The following instructions will install Krang on a RedHat Linux 7.3
system, i686 architecture.

To install, do the following as root:

  # cd <Krang src directory>
  # ./bin/krang_install \
         --HostName             $HostName            \
         --IPAddress            $IPAddress           \
         --AdminPassword        $AdminPassword       \
         --InstanceVirtualHost  $InstanceVirtualHost \
         --InstanceDBName       $InstanceDBName      \
         --InstanceDBUser       $InstanceDBUser      \
         --InstanceDBPass       $InstanceDBPass      \
         --InstanceElementSet   $InstanceElementSet  




=head2 What Install Will Do


Following is a list of the tasks the installer script will perform.


=over 4

=item Check pre-requisites


=over 4

=item Must be running as root.

=item IP address must be configured on host.

=item InstanceElementSet must exist

=item MySQLRootPassword must be valid for this box

=item InstallPath must NOT exist.

=item Check for proper version of MySQL.


=over 4

=item Suggest "--do-mysql-install" flag if not installed.

=back


=item Check for proper version of Perl.


=over 4

=item Suggest "--do-perl-install" flag if not installed.

=back



=back



=item Create MySQL Krang database user (if it does not already exist).

=item Create Krang UNIX user and/or group


=over 4

=item Create with no password (unless user already exists).

=item Use C<useradd>, C<groupadd>, and C<usermod> to manage user account.

=back



=item Install Krang

=item Configure Krang and first instance.

=item Add Krang to init.d startup scripts.

=item Start Krang

=item Make test

=item Output settings and URL of Krang installation to console.



=back


=head1 Install Worksheet

Before you install you must gather the following information.  The
following variables should be replaced in example shell commands with
the appropriate values.



=head2 Required Variables


=over 4

=item HostName

Host name used for CMS Apache virtual host (e.g., "cms23.thepirtgroup.com").


=item IPAddress

IP address used for CMS Apache server and FTP server.


=item InstanceVirtualHost

Host name of CMS virtual Apache server (e.g., "cms.motortrend.com")



=item AdminPassword

Password assigned to the "Admin" CMS user (e.g., "shredder").


=item InstanceDBName

Name of MySQL database which is used by this CMS instance (e.g., "motortrend").



=item InstanceDBUser

Name of MySQL user which is used by this CMS instance (e.g., "motortrend").



=item InstanceDBPass

MySQL user password which is used by this CMS instance (e.g., "xyzzy").



=item InstanceElementSet

Name of element set used by this CMS instance (e.g., "Flex").

=back




=head2 Optional Variables

=over 4

=item MySQLRootPassword

Defaults to "" (none).  The password for the MySQL user "root" who is
assumed to exist, and to have full access to MySQL.


=item InstallPath

Defaults to "/usr/local/krang".  Directory into which Krang should be installed.


=item KrangUser

Defaults to "krang".  UNIX user for process ownership (Apache, etc.), file ownership and
install location.


=item KrangGroup

Defaults to "krang".  UNIX group for process ownership (Apache, etc.), file ownership and
install location.


=item FTPPort

Defaults to 21.  Port on which FTP server should run.


=item ApachePort


Defaults to 80.  Port on which CMS Apache server should run.


=item SMTPServer

Defaults to localhost (127.0.0.1).  Address of SMTP mail server used
by Krang for sending email.


=item InstanceDisplayName

Defaults to $InstanceVirtualHost.  Name of the Instance, displayed on
the CMS interface for informational purposes.



=back



=head2 Some definitions


=over 4

=item Installation

A particular version of Krang installed on a server.  A single host
server may have multiple installations, but this would be rare
outside of development.  A single installation may have multiple
"Instances".


=item Instance

A particular CMS database and element set.  Multiple instances may
exist within a particular Krang installation.  A single instance may
have multiple "Sites".


=item Site

A website managed by Krang.  Multiple sites may exist
within a particular Krang instance.  Unlike Installations and
Instances, Sites are not installed via this installation process.
Sites are configured from the Krang web interface.

=back


