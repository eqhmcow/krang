<tmpl_include header.tmpl>

<script type="text/javascript">
Krang.onload( function() {
<tmpl_if was_edit>
  Krang.Nav.edit_mode();
</tmpl_if>
  Krang.Help.set( 'media_find' );
} );

do_return = function()
{
  Krang.Form.submit( 'return_form' );
}

<tmpl_unless is_old_version><tmpl_if can_edit>
  do_edit_media = function()
  {
    Krang.Form.submit( 'edit_media_form' );
  }
</tmpl_if></tmpl_unless>
</script>

<!--[p class="east"]
(db2)add 'View Log' here
[/p]-->

<h2>
View Media
</h2>

<tmpl_if thumbnail_path><div class="east">
  <tmpl_if media_id><a title="Preview <tmpl_var escape=html title>" href="javascript:Krang.preview('media','<tmpl_var escape=html media_id>')"></tmpl_if><img alt="" src="<tmpl_var escape=html thumbnail_path>"><tmpl_if media_id></a></tmpl_if>
</div></tmpl_if>

<h3>
Properties
</h3>

<table class="result" summary="">

<colgroup>
<col class="c-label">
<col>
</colgroup>

<tbody>

<tr>
<th>Media ID</th>
<td><tmpl_var escape=html media_id></td>
</tr>

<tr>
<th>Title</th>
<td><tmpl_var escape=html title></td>
</tr>

<tr>
<th>Type</th>
<td><tmpl_var escape=html type></td>
</tr>

<tr>
<th>Current Version</th>
<td><tmpl_var escape=html version></td>
</tr>

<tr>
<th>Published Version</th>
<td><tmpl_unless published_version>[n/a]<tmpl_else><tmpl_var escape=html published_version></tmpl_unless></td>
</tr>

<tr>
<th>URL</th>
<td><tmpl_var url><!--:markup--></td>
</tr>

<tr>
<th>Site/Category</th>
<td><tmpl_var escape=html category></td>
</tr>

<tr>
<th>File Name</th>
<td>
<a href="javascript:Krang.preview('media','<tmpl_var escape=html media_id>')"><tmpl_var escape=html filename></a>
<tmpl_if file_size>(<tmpl_var escape=html file_size>)</tmpl_if>
</td>
</tr>

<tr>
<th>Default Caption</th>
<td><tmpl_var escape=html caption></td>
</tr>

<tr>
<th>Default Copyright</th>
<td><tmpl_var escape=html copyright></td>
</tr>

<tr>
<th>Alt Text</th>
<td><tmpl_var escape=html alt_tag></td>
</tr>

<tr>
<th>Creation Date</th>
<td><tmpl_var escape=html creation_date></td>
</tr>

<tr>
<th>Notes</th>
<td><tmpl_var escape=html notes></td>
</tr>

<tr>
<th>Contributors</th>
<td>
<tmpl_if contribs><!--(db2)no context var; single item == trailing comma:-->
  <tmpl_loop contribs>
    <tmpl_var escape=html first> <tmpl_var escape=html last> (<tmpl_var escape=html type>)<tmpl_unless __last__>,</tmpl_unless>
  </tmpl_loop>
<tmpl_else>
  None.
</tmpl_if>
</td>
</tr>

</tbody>

</table>

<div class="panel<tmpl_if is_old_version> lame<tmpl_else><tmpl_unless can_edit> lame</tmpl_unless></tmpl_if> capped"><form>
<input value="Back" onclick="do_return()" type="button" class="west">
<tmpl_unless is_old_version><tmpl_if can_edit>
  <input value="Edit" onclick="do_edit_media()" type="button">
</tmpl_if></tmpl_unless>
</form></div>

<form name="return_form" action="<tmpl_var escape=html return_script>" method="post">
<input name="media_id" value="<tmpl_var escape=html media_id>" type="hidden">
<tmpl_var return_params>
</form>

<tmpl_unless is_old_version><tmpl_if can_edit>
  <form name="edit_media_form" method="post" action="media.pl">
  <input name="rm" value="edit" type="hidden">
  <input name="media_id" value="<tmpl_var escape=html media_id>" type="hidden">
  </form>
</tmpl_if></tmpl_unless>

<tmpl_include footer.tmpl>

